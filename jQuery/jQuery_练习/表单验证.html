<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>表单验证</title>
    <style>
        label{
            font-size: 10px;
        }
        #sign{
            color: red;
        }
        #sub input{
            margin-right: 10px;
            margin-top: 10px;
        }

    </style>
</head>
<body>
<form action="" id="table">
    <div id="int">
        <label for="name">用户名：</label>
        <input type="text" id="name">
    </div>

    <div id="int">
        <label for="email">邮件：</label>
        <input type="text" id="email">
    </div>

    <div id="int">
        <label for="msg">个人资料：</label>
        <input type="text" id="msg">
    </div>
    <div id="sub">
        <input type="submit" value="提交" id="sub_"><input type="reset" value="重置" id="res_">
    </div>

</form>
<script src="../jquery-3.2.1.js"></script>
<script>
    //插星号
    $('form #name,#email').each(function () {
        var $q = $('<strong id="sign">*</strong>');
        $(this).after($q);
    }).blur(function () {
        $(this).nextAll('.formtips').remove();

        //验证用户名
        if( $(this).is('#name') ){
            if( this.value=="" || this.value.length < 6 ){
                var errorMsg = '请输入至少6位的用户名.';
                $(this).next().after('<span class="formtips onError">'+errorMsg+'</span>');
            }else{
                var okMsg = '输入正确.';
                $(this).next().after('<span class="formtips onSuccess">'+okMsg+'</span>');
            }
        }


        if( $(this).is('#email') ){
            if( this.value=="" || ( this.value!="" && !/.+@.+\.[a-zA-Z]{2,4}$/.test(this.value) ) ){
                var errorMsg = '请输入正确的E-Mail地址.';
                $(this).next().after('<span class="formtips onError">'+errorMsg+'</span>');
            }else{
                var okMsg = '输入正确.';
                $(this).next().after('<span class="formtips onSuccess">'+okMsg+'</span>');
            }
        }

    }).on('keyup',function(){
        $(this).triggerHandler("blur");
    }).on('focus',function(){
        $(this).triggerHandler("blur");
    });//end blur


    $('#sub_').on('click',function(){
        $("form :input.required").trigger('blur');
        var numError = $('form .onError').length;
        if(numError){
            return false;
        }
        alert("注册成功,密码已发到你的邮箱,请查收.");
    });

    //重置
    $('#res_').on('click',function(){
        $(".formtips").remove();
    });

</script>
</body>
</html>